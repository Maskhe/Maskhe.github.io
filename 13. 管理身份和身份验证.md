
# 主体和客体

访问控制解决的是实体之间的关系。

- 主体是活动实体，它访问被动客体以从客体获取消息或关于客体的数据。主体可以是系统、程序、用户、服务
- 客体是被动实体，它向活动主体提供信息。

# CIA三性和访问控制

- 保密性：访问控制有助于确保只有经过授权的主体才能访问客体。
- 完整性：只有经过授权的主体才能够修改客体数据或系统配置。
- 可用性：必须在合理的时间内对主体授予客体的访问权限。

# 访问控制的类型


- **预防访问控制**：试图阻止不必要或未经授权的活动发生。例如：栅栏、锁、陷阱、警报系统
- **检测访问控制**：尝试发现或检测不需要的或未经授权的活动。例如：蜜罐、蜜网、入侵检测系统
- **纠正访问控制**：纠正控制采用修改环境的方式来恢复发生意外或受到攻击后的系统的状态。例如：反病毒设备，自动隔离恶意软件的设备等等
- **威慑访问控制**：威慑访问控制试图阻止违反安全策略，威慑和预防有点相似，例如：警报、警示牌、安全意识培训等等
- **恢复访问控制**：尝试在系统受到破坏后将系统还原。例如：镜像和备份，恢复控制是纠正控制的扩展，**杀毒软件也是恢复控制的一个例子**
- **指示访问控制**：试图指示、限制、引导主体的操作，例如：安全策略或标准、监督、逃生路线标识
- **补偿访问控制**：有些情况无法使用主控制，则可以使用补偿访问控制作为弥补。
- **管理访问控制**：管理访问控制是由组织的安全策略或其它监管法规要求实施的策略或过程。例如：公司的规章制度、背景调查、安全培训、程序流程
- **逻辑/技术控制**：
- **物理控制**：

# 身份识别和身份验证

身份识别（Identification），是主体申明身份的过程，例如出示身份证，输入用户名等等，身份验证的核心原则就是每个用户都有唯一的身份标识

身份验证则是将用户提交过来的身份与某个数据库中的数据进行比对验证，从而确定用户的身份。

身份识别和验证始终作为一个两步过程一起发生。

你可以通过输入用户名和密码来理解身份识别和验证。

## 1. 身份注册和证明

## 2. 授权和问责

- 授权：主体基于已证实的身份被授予适当权限，授权标识可以信任谁执行什么操作。
- 问责：**审计、记录和监控通过确保主体对其行为负责提供问责制**。

## 3. 身份验证因素

- 类型1：**你知道什么**：账号密码等
- 类型2：**你拥有什么**：U盘、硬件令牌
- 类型3：**你是谁**：虹膜识别

除了以上三种，还有一些其它因素：

- 你在什么地方：根据ip地址变动识别可以行为
- 上下文感知和身份验证

# 密码

- **创建强密码**：最长期限（例如45天过期）、密码复杂度（大小写、数字、特殊字符）、密码长度（例如最低12位等）、密码历史（不要和上一次密码相同）
- **密码短语**：用一段对自己来说有意义的话作为密码，这样可以增加密码长度且方便记忆，还可以将短语中的某个字符进行替换提升密码强度
- **认知密码**：关于事实或预设问题向主体提出挑战，例如：我的生日是多久？我的出生地在哪里？

# 智能卡和令牌

- 智能卡：可以看看你小区的门禁卡
- 令牌设备或硬件令牌是用户可随身携带的密码生成设备。
	- 同步动态密码令牌：基于时间的，例如Google OTP
	- 异步动态密码令牌：不基于时间，往往是基于算法和一个计数器。

两步身份验证（2FA）：
- HOTP（HMAC-based One Time Password）：。它通常创建六到八个数字的 HOTP 值。这类似于令牌创 建的异步动态密码。 HOTP 值在使用前保持有效。
- TOTP（Time-based One Time Password）：基于时间戳生成一个值

# 生物识别技术

- 指纹
- 面部扫描
- 视网膜扫描
- 虹膜扫描
- 手掌扫描
- 手部几何图形
- 心脏/脉冲模式
- 语音模式识别
- 签名动态
- 击键模式

# 多因素身份认证

使用两个密码验证这不是多因素，使用密码+pin码这也不叫作多因素，因为它们同属一个因素——你知道什么？


# 设备验证


# 服务身份验证


很多时候我们需要为某个服务单独创建一个账号，而且这个账号的密码很长时间不会修改，这是存在很大的安全隐患的。

例如：我要创建一个gitlab账号用于全局扫描gitlab仓库，这个账号就是服务在使用。

对于服务账户，我们应该确保其密码复杂度足够高、管理员经常去修改密码。或者，不提供交互使用账户的渠道，例如不提供账号密码，让各服务之间通过API进行交互，这样可以避免账号密码被人窃取后直接登录。


# 实施身份管理

## 单点登录

- LDAP
- Kerberos

## 凭据管理系统

凭据管理系统为用户提供存储空间，以便在 SSO 不可用时保留其凭据。管理系统通过加密来保护凭据，以防止未经授权的访问。 例如， Windows 系统包括凭据管理器。用户将凭据输入凭据管理器，必要时，操作系统将 检索用户的凭据并自动提交。将此用于网站时，用户输入 URL 、用户名和密码。稍后，当用户 访问网站时，凭据管理器会自动识别 URL 井提供凭据。 也可使用第二方凭据管理系统。例如， ，臼:Pass 是一个免费软件工具，允许你存储你的凭 据。

## 集成身份服务

身份即服务。 Identity as a Se ice IDaaS)是提供身份和访问管理的第三方服务。 IDaaS 有效 地为云提供 SSO，在内部客户端访问基于云的软件即服务(Software as a Service, SaaS)应用程序 时尤其有用。 Google "Google 所有内容使用一个 Google 账户"为口号实现了这一目标


## 管理会话

管理会话以防止任何形式的未授权访问发生。例如，会话建立后如果多长时间不进行会话则进行过期处理，我们和PC的交互也是一样，当屏幕10分钟没有操作后自动进入屏幕保护程序，防止他人窥屏，这就是一种会话管理机制。


## AAA协议

有几种协议提供验证、授权、问责机制，这些协议称为AAA协议

- RADIUS：远程身份验证拨入服务
- TACACS+：终端访问控制器访问控制系统(TACACS) RADIUS 的替代方案，而TACACS+对tacacs又做了一些优化，对所有身份验证信息做了加密，且把验证、授权、问责分别单独成了进程，如有必要可以分开部署。
- Diameter：Diameter是RADIUS 的升级版，但它不向后兼容 RADIUS

## 管理身份和访问配置周期

- 访问配置：新建账户
- 账户审核：应定期审核账户，以确保正在执行安全策略。例如：禁用非活动账户、没有过多的权限。
- 账户撤消：当员工离职时应及时清理它们的账户。